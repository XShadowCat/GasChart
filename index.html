<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="theme-color" content="#010409" id="themeColor">
<title>Plynograf ðŸ”¥</title>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<style>
*{box-sizing:border-box;margin:0;padding:0;}
body{font-family:system-ui,'Segoe UI',sans-serif;background:#010409;color:#e6edf3;min-height:100vh;transition:background .25s,color .25s;}
body.light{background:#f6f8fa;color:#1f2328;}
button{cursor:pointer;font-family:inherit;border:none;background:none;}
input{font-family:inherit;outline:none;}
input[type=number]::-webkit-inner-spin-button{-webkit-appearance:none;}
::-webkit-scrollbar{width:4px;}
::-webkit-scrollbar-thumb{background:#30363d;border-radius:4px;}

/* HEADER */
#header{background:#0d1117;border-bottom:1px solid #21262d;padding:12px 16px;display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;z-index:50;transition:background .25s,border-color .25s;}
body.light #header{background:#fff;border-color:#d0d7de;}
.logo{display:flex;align-items:center;gap:10px;}
.logo-icon{width:32px;height:32px;background:linear-gradient(135deg,#f97316,#ea580c);border-radius:7px;display:flex;align-items:center;justify-content:center;font-size:16px;flex-shrink:0;}
.logo-title{font-size:15px;font-weight:700;letter-spacing:-.02em;}
.logo-sub{font-size:10px;color:#6e7681;font-family:monospace;}
body.light .logo-sub{color:#6e7781;}
.header-right{display:flex;gap:8px;align-items:center;}
.btn-theme{background:#161b22;border:1px solid #30363d;border-radius:6px;color:#8b949e;padding:5px 10px;font-size:16px;line-height:1;transition:all .15s;}
body.light .btn-theme{background:#f3f4f6;border-color:#b1bac4;}
.unit-toggle{display:flex;background:#161b22;border:1px solid #30363d;border-radius:6px;overflow:hidden;}
body.light .unit-toggle{background:#f6f8fa;border-color:#b1bac4;}
.unit-btn{padding:6px 12px;font-weight:700;font-size:12px;font-family:monospace;color:#6e7681;transition:all .15s;}
.unit-btn.active{background:#f97316;color:#fff;}
body.light .unit-btn.active{background:#d95f00;}
.lang-toggle{display:flex;background:#161b22;border:1px solid #30363d;border-radius:6px;overflow:hidden;}
body.light .lang-toggle{background:#f6f8fa;border-color:#b1bac4;}
.lang-btn{padding:6px 10px;font-weight:700;font-size:12px;font-family:monospace;color:#6e7681;transition:all .15s;}
.lang-btn.active{background:#f97316;color:#fff;}
body.light .lang-btn.active{background:#d95f00;color:#fff;}

/* TABS */
#tabs{background:#0d1117;border-bottom:1px solid #21262d;display:flex;padding:0 16px;overflow-x:auto;transition:background .25s;}
body.light #tabs{background:#fff;border-color:#d0d7de;}
.tab{background:none;border:none;border-bottom:2px solid transparent;color:#8b949e;padding:11px 14px;font-size:13px;font-weight:500;white-space:nowrap;transition:color .15s;}
.tab.active{color:#f97316;border-bottom-color:#f97316;}
body.light .tab.active{color:#d95f00;border-bottom-color:#d95f00;}

/* CONTENT */
#content{padding:16px;max-width:940px;margin:0 auto;}
.screen{display:none;}
.screen.active{display:block;}

/* CARDS */
.stat-cards{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:16px;}
.stat-card{background:#0d1117;border:1px solid #21262d;border-radius:8px;padding:12px 14px;flex:1;min-width:120px;transition:background .25s,border-color .25s;}
body.light .stat-card{background:#fff;border-color:#d0d7de;box-shadow:0 1px 3px rgba(0,0,0,.06);}
.stat-label{font-size:10px;color:#6e7681;text-transform:uppercase;letter-spacing:.1em;margin-bottom:4px;}
body.light .stat-label{color:#6e7781;}
.stat-value{font-size:18px;font-weight:700;font-family:monospace;}
.stat-sub{font-size:11px;color:#6e7681;margin-top:3px;}
body.light .stat-sub{color:#6e7781;}

/* PANEL */
.panel{background:#0d1117;border:1px solid #21262d;border-radius:10px;overflow:hidden;margin-bottom:16px;transition:background .25s,border-color .25s;}
body.light .panel{background:#fff;border-color:#d0d7de;box-shadow:0 1px 3px rgba(0,0,0,.06);}
.panel-header{padding:10px 14px;border-bottom:1px solid #21262d;background:#161b22;display:flex;justify-content:space-between;align-items:center;font-size:10px;color:#6e7681;text-transform:uppercase;letter-spacing:.1em;font-family:monospace;transition:background .25s,border-color .25s;}
body.light .panel-header{background:#f3f4f6;border-color:#d0d7de;}
.panel-body{padding:16px;}

/* CHART TOGGLE */
.chart-mode-toggle{display:flex;background:#161b22;border:1px solid #30363d;border-radius:6px;overflow:hidden;width:fit-content;margin-bottom:12px;}
body.light .chart-mode-toggle{background:#f6f8fa;border-color:#b1bac4;}
.chart-mode-btn{padding:7px 14px;color:#6e7681;border-right:1px solid #30363d;font-size:13px;font-weight:500;transition:all .15s;}
body.light .chart-mode-btn{border-color:#b1bac4;}
.chart-mode-btn.active{background:#21262d;color:#e6edf3;}
body.light .chart-mode-btn.active{background:#e5e7eb;color:#1f2328;}

/* YEAR PILLS */
.year-pills{display:flex;gap:6px;flex-wrap:wrap;align-items:center;margin-bottom:12px;}
.year-pill{padding:4px 12px;border-radius:4px;border:1.5px solid;font-weight:700;font-size:12px;font-family:monospace;transition:all .15s;}

/* MONTH PILLS */
.month-pills{display:flex;gap:4px;flex-wrap:wrap;align-items:center;margin-bottom:12px;}
.month-pill{padding:3px 8px;border-radius:4px;border:1px solid #30363d;color:#8b949e;font-size:11px;font-family:monospace;transition:all .15s;}
body.light .month-pill{border-color:#b1bac4;color:#57606a;}
.month-pill.active{border-color:#f97316;background:rgba(249,115,22,.13);color:#f97316;}
body.light .month-pill.active{border-color:#d95f00;background:rgba(217,95,0,.1);color:#d95f00;}

/* CHART */
.chart-wrap{background:#0d1117;border:1px solid #21262d;border-radius:10px;padding:16px 8px 10px;margin-bottom:12px;transition:background .25s,border-color .25s;}
body.light .chart-wrap{background:#fff;border-color:#d0d7de;}
.chart-title{font-size:10px;color:#6e7681;text-transform:uppercase;letter-spacing:.1em;font-family:monospace;margin-bottom:12px;padding-left:8px;}
body.light .chart-title{color:#6e7781;}
.chart-legend{display:flex;gap:14px;justify-content:center;margin-top:8px;flex-wrap:wrap;}
.legend-item{display:flex;align-items:center;gap:5px;font-size:12px;font-family:monospace;font-weight:700;}

/* SVG CHARTS */
svg text{font-family:monospace;}

/* FORM */
.form-row{display:flex;gap:10px;flex-wrap:wrap;align-items:flex-end;}
.form-group{display:flex;flex-direction:column;gap:4px;}
.form-label{font-size:10px;color:#6e7681;text-transform:uppercase;letter-spacing:.08em;}
body.light .form-label{color:#6e7781;}
.form-input{background:#161b22;border:1px solid #30363d;border-radius:6px;color:#e6edf3;padding:8px 12px;font-size:13px;transition:border-color .15s;}
body.light .form-input{background:#f6f8fa;border-color:#b1bac4;color:#1f2328;}
.form-input:focus{border-color:#f97316;}
body.light .form-input:focus{border-color:#d95f00;}
.btn-add{background:#f97316;border-radius:6px;color:#fff;padding:9px 18px;font-size:13px;font-weight:600;}
body.light .btn-add{background:#d95f00;}

/* READINGS LIST */
.reading-row{display:flex;align-items:center;gap:8px;padding:10px 14px;border-bottom:1px solid #21262d;transition:background .25s;}
body.light .reading-row{border-color:#d0d7de;}
.reading-row:last-child{border-bottom:none;}
#readingsList{scrollbar-width:thin;scrollbar-color:#30363d #0d1117;}
#readingsList::-webkit-scrollbar{width:4px;}
#readingsList::-webkit-scrollbar-track{background:#0d1117;}
#readingsList::-webkit-scrollbar-thumb{background:#30363d;border-radius:2px;}
body.light #readingsList{scrollbar-color:#b1bac4 #fff;}
body.light #readingsList::-webkit-scrollbar-track{background:#fff;}
body.light #readingsList::-webkit-scrollbar-thumb{background:#b1bac4;}
.reading-row.latest-row{border-bottom-color:#21262d!important;}
body.light .reading-row.latest-row{border-bottom-color:#d0d7de!important;}
.reading-dot{width:7px;height:7px;border-radius:50%;background:#30363d;flex-shrink:0;}
body.light .reading-dot{background:#b1bac4;}
.reading-dot.latest{background:#f97316;}
body.light .reading-dot.latest{background:#d95f00;}
.reading-date{color:#8b949e;font-size:12px;font-family:monospace;width:95px;flex-shrink:0;}
body.light .reading-date{color:#57606a;}
.reading-value{color:#e6edf3;font-size:14px;font-weight:700;font-family:monospace;flex:1;}
body.light .reading-value{color:#1f2328;}
.reading-diff{font-size:12px;font-family:monospace;color:#f97316;flex-shrink:0;}
body.light .reading-diff{color:#d95f00;}
.reading-days{font-size:11px;font-family:monospace;color:#6e7681;flex-shrink:0;}
body.light .reading-days{color:#6e7781;}
.reading-pct{font-size:11px;font-family:monospace;flex-shrink:0;}
.btn-del{color:#6e7681;font-size:14px;padding:2px 4px;flex-shrink:0;}
body.light .btn-del{color:#6e7781;}
.btn-edit{color:#6e7681;font-size:13px;padding:2px 5px;flex-shrink:0;border-radius:4px;}
body.light .btn-edit{color:#6e7781;}
.reading-row.confirm-del{background:rgba(248,81,73,0.08)!important;border-color:rgba(248,81,73,0.25);}
body.light .reading-row.confirm-del{background:rgba(185,28,28,0.07)!important;}
.confirm-del-msg{font-size:12px;color:#f85149;flex:1;font-weight:500;}
body.light .confirm-del-msg{color:#b91c1c;}
.btn-confirm-del{background:rgba(248,81,73,0.15);border:1px solid rgba(248,81,73,0.4);border-radius:5px;color:#f85149;padding:4px 10px;font-size:12px;font-weight:600;flex-shrink:0;}
body.light .btn-confirm-del{background:rgba(185,28,28,0.1);border-color:rgba(185,28,28,0.3);color:#b91c1c;}
.btn-cancel-del{background:transparent;border:1px solid #30363d;border-radius:5px;color:#8b949e;padding:4px 10px;font-size:12px;flex-shrink:0;}
body.light .btn-cancel-del{border-color:#b1bac4;color:#57606a;}
.reading-row.editing{background:rgba(249,115,22,0.06)!important;padding:8px 14px;flex-wrap:wrap;align-items:center;}
body.light .reading-row.editing{background:rgba(217,95,0,0.05)!important;}
.edit-row-top{display:flex;align-items:center;gap:8px;width:100%;flex-wrap:wrap;}
.edit-input{background:#161b22;border:1px solid #f97316;border-radius:5px;color:#e6edf3;padding:5px 9px;font-size:13px;font-family:monospace;}
body.light .edit-input{background:#fff;border-color:#d95f00;color:#1f2328;}
.edit-input-date{width:132px;}
.edit-input-val{width:120px;}
.edit-input-note{flex:1;min-width:80px;}
.btn-save-edit{background:#f97316;border-radius:5px;color:#fff;padding:5px 12px;font-size:12px;font-weight:600;flex-shrink:0;}
body.light .btn-save-edit{background:#d95f00;}
.btn-cancel-edit{background:transparent;border:1px solid #30363d;border-radius:5px;color:#8b949e;padding:5px 10px;font-size:12px;flex-shrink:0;}
body.light .btn-cancel-edit{border-color:#b1bac4;color:#57606a;}
.edit-err{font-size:11px;color:#f85149;width:100%;margin-top:2px;display:none;}
body.light .edit-err{color:#b91c1c;}

/* ALERTS */
.alert{border-radius:8px;padding:10px 14px;margin-bottom:14px;font-size:12px;}
.alert-warn{background:rgba(245,158,11,.08);border:1px solid rgba(245,158,11,.25);color:#f59e0b;}
body.light .alert-warn{background:rgba(161,98,7,.07);border-color:rgba(161,98,7,.25);color:#a16207;}
.alert-success{background:rgba(16,185,129,.07);border:1px solid rgba(16,185,129,.22);color:#34d399;}
body.light .alert-success{background:rgba(10,140,90,.07);border-color:rgba(10,140,90,.25);color:#0a8c5a;}
.alert-error{background:rgba(248,81,73,.1);border:1px solid rgba(248,81,73,.3);color:#f85149;}
body.light .alert-error{background:rgba(185,28,28,.07);border-color:rgba(185,28,28,.25);color:#b91c1c;}

/* NETATMO UPLOAD */
.upload-zone{background:#0d1117;border:2px dashed #30363d;border-radius:12px;padding:24px;text-align:center;margin-bottom:16px;cursor:pointer;transition:border-color .15s,background .25s;}
body.light .upload-zone{background:#fff;border-color:#b1bac4;}
.upload-zone:hover{border-color:#f97316;}
body.light .upload-zone:hover{border-color:#d95f00;}
.upload-icon{font-size:28px;margin-bottom:10px;}
.upload-title{font-size:14px;font-weight:600;margin-bottom:6px;}
.upload-desc{font-size:12px;color:#8b949e;line-height:1.8;margin-bottom:12px;}
body.light .upload-desc{color:#57606a;}
.upload-badges{display:inline-flex;gap:10px;margin-bottom:14px;flex-wrap:wrap;justify-content:center;}
.upload-badge{font-size:12px;color:#34d399;}
body.light .upload-badge{color:#0a8c5a;}
.btn-upload{display:inline-block;background:#f97316;border-radius:6px;padding:8px 20px;font-size:13px;font-weight:600;color:#fff;}
body.light .btn-upload{background:#d95f00;}

/* COVERAGE BARS */
.cov-row{display:flex;align-items:center;gap:8px;margin-bottom:5px;}
.cov-label{font-size:11px;color:#6e7681;width:55px;font-family:monospace;flex-shrink:0;}
body.light .cov-label{color:#6e7781;}
.cov-track{flex:1;height:8px;background:#21262d;border-radius:4px;}
body.light .cov-track{background:#d0d7de;}
.cov-fill{height:100%;border-radius:4px;transition:width .4s;}
.cov-pct{font-size:11px;font-family:monospace;width:36px;text-align:right;flex-shrink:0;}

/* INFO BOX */
.info-box{background:#0d1117;border:1px solid #21262d;border-radius:8px;padding:10px 14px;display:flex;gap:8px;font-size:11px;color:#8b949e;line-height:1.6;margin-top:12px;transition:background .25s,border-color .25s;}
body.light .info-box{background:#fff;border-color:#d0d7de;color:#57606a;}

.hint{font-size:10px;color:#6e7681;}
body.light .hint{color:#6e7781;}
.error-text{color:#f85149;font-size:12px;margin-top:8px;}
body.light .error-text{color:#b91c1c;}

/* AUTH SCREEN */
#authScreen{position:fixed;inset:0;background:#010409;display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px;transition:background .25s;}
body.light #authScreen{background:#f6f8fa;}
.auth-box{background:#0d1117;border:1px solid #21262d;border-radius:14px;padding:32px;width:100%;max-width:380px;transition:background .25s,border-color .25s;}
body.light .auth-box{background:#fff;border-color:#d0d7de;box-shadow:0 4px 24px rgba(0,0,0,.08);}
.auth-logo{display:flex;align-items:center;gap:10px;margin-bottom:28px;justify-content:center;}
.auth-logo-icon{width:40px;height:40px;background:linear-gradient(135deg,#f97316,#ea580c);border-radius:9px;display:flex;align-items:center;justify-content:center;font-size:20px;}
.auth-logo-name{font-size:20px;font-weight:700;letter-spacing:-.02em;}
.auth-tabs{display:flex;background:#161b22;border-radius:7px;padding:3px;margin-bottom:24px;}
body.light .auth-tabs{background:#f3f4f6;}
.auth-tab{flex:1;padding:7px;border-radius:5px;font-size:13px;font-weight:600;color:#6e7681;transition:all .15s;text-align:center;}
.auth-tab.active{background:#21262d;color:#e6edf3;}
body.light .auth-tab.active{background:#fff;color:#1f2328;box-shadow:0 1px 3px rgba(0,0,0,.1);}
.auth-field{margin-bottom:14px;}
.auth-label{font-size:11px;color:#6e7681;text-transform:uppercase;letter-spacing:.08em;margin-bottom:5px;display:block;}
body.light .auth-label{color:#6e7781;}
.auth-input{width:100%;background:#161b22;border:1px solid #30363d;border-radius:7px;color:#e6edf3;padding:10px 13px;font-size:14px;transition:border-color .15s;}
body.light .auth-input{background:#f6f8fa;border-color:#b1bac4;color:#1f2328;}
.auth-input:focus{border-color:#f97316;outline:none;}
body.light .auth-input:focus{border-color:#d95f00;}
.auth-btn{width:100%;background:#f97316;border-radius:7px;color:#fff;padding:11px;font-size:14px;font-weight:700;margin-top:6px;transition:opacity .15s;}
body.light .auth-btn{background:#d95f00;}
.auth-btn:hover{opacity:.9;}
.auth-btn:disabled{opacity:.5;}
.auth-err{font-size:12px;color:#f85149;margin-top:10px;text-align:center;min-height:18px;}
body.light .auth-err{color:#b91c1c;}
.auth-success{font-size:12px;color:#34d399;margin-top:10px;text-align:center;}
body.light .auth-success{color:#0a8c5a;}

/* USER BADGE in header */
.user-menu{position:relative;}
.user-badge{display:flex;align-items:center;gap:6px;background:#161b22;border:1px solid #30363d;border-radius:6px;padding:5px 10px;font-size:12px;color:#8b949e;cursor:pointer;transition:all .15s;}
body.light .user-badge{background:#f3f4f6;border-color:#b1bac4;}
.user-badge:hover{border-color:#f97316;color:#f97316;}
body.light .user-badge:hover{border-color:#d95f00;color:#d95f00;}
.user-dropdown{position:absolute;top:calc(100% + 6px);right:0;background:#0d1117;border:1px solid #30363d;border-radius:8px;min-width:200px;box-shadow:0 8px 24px rgba(0,0,0,.4);z-index:100;overflow:hidden;display:none;}
body.light .user-dropdown{background:#fff;border-color:#d0d7de;box-shadow:0 8px 24px rgba(0,0,0,.12);}
.user-dropdown.open{display:block;}
.user-dropdown-email{padding:10px 14px;font-size:12px;color:#6e7681;border-bottom:1px solid #21262d;word-break:break-all;}
body.light .user-dropdown-email{color:#57606a;border-color:#d0d7de;}
.user-dropdown-btn{display:flex;align-items:center;gap:8px;width:100%;padding:10px 14px;font-size:13px;color:#f85149;background:none;border:none;cursor:pointer;transition:background .15s;}
body.light .user-dropdown-btn{color:#b91c1c;}
.user-dropdown-btn:hover{background:rgba(248,81,73,.08);}
body.light .user-dropdown-btn:hover{background:rgba(185,28,28,.06);}

/* LOADING overlay */
#loadingOverlay{position:fixed;inset:0;background:rgba(1,4,9,.8);display:flex;align-items:center;justify-content:center;z-index:999;display:none;}
body.light #loadingOverlay{background:rgba(246,248,250,.8);}
.loading-spinner{width:36px;height:36px;border:3px solid #21262d;border-top-color:#f97316;border-radius:50%;animation:spin .7s linear infinite;}
@keyframes spin{to{transform:rotate(360deg);}}
</style>
</head>
<body>


<!-- AUTH SCREEN -->
<div id="authScreen">
  <div class="auth-box">
    <div class="auth-logo">
      <div class="auth-logo-icon" style="overflow:hidden;padding:2px;"><img src="data:image/png;base64,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" width="36" height="36" style="object-fit:contain;display:block;"/></div>
      <div class="auth-logo-name" id="authAppName">Plynograf</div>
    </div>
    <div class="auth-tabs">
      <button class="auth-tab active" id="tabLogin">PÅ™ihlÃ¡sit se</button>
      <button class="auth-tab" id="tabRegister">Registrovat</button>
    </div>
    <div class="auth-field">
      <label class="auth-label">E-mail</label>
      <input type="email" class="auth-input" id="authEmail" name="email" autocomplete="email" placeholder="vas@email.cz">
    </div>
    <div class="auth-field">
      <label class="auth-label">Heslo</label>
      <input type="password" class="auth-input" id="authPassword" name="password" autocomplete="current-password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
    </div>
    <div class="auth-err" id="authErr"></div>
    <button class="auth-btn" id="authSubmit">PÅ™ihlÃ¡sit se</button>
    <div class="auth-success" id="authSuccess"></div>
  </div>
</div>

<!-- LOADING -->
<div id="loadingOverlay"><div class="loading-spinner"></div></div>

<div id="header">
  <div class="logo">
    <div class="logo-icon" style="overflow:hidden;padding:2px;"><img src="data:image/png;base64,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" width="28" height="28" style="object-fit:contain;display:block;"/></div>
    <div>
      <div class="logo-title" data-i18n="appName">Plynograf</div>
      <div class="logo-sub" id="logoSub">lineÃ¡rnÃ­ interpolace</div>
    </div>
  </div>
  <div class="header-right">
    <button class="btn-theme" id="themeBtn" title="PÅ™epnout tÃ©ma">â˜€ï¸</button>
    <div class="lang-toggle">
      <button class="lang-btn active" data-lang="cs">CZ</button>
      <button class="lang-btn" data-lang="en">EN</button>
    </div>
    <div class="unit-toggle">
      <button class="unit-btn active" data-unit="m3">mÂ³</button>
      <button class="unit-btn" data-unit="kwh">kWh</button>
    </div>
    <div class="user-menu" id="userMenu" style="display:none">
      <div class="user-badge" id="userBadge">
        <span>ðŸ‘¤</span>
      </div>
      <div class="user-dropdown" id="userDropdown">
        <div class="user-dropdown-email" id="userEmailFull">â€“</div>
        <button class="user-dropdown-btn" id="btnLogout">â» &nbsp;OdhlÃ¡sit se</button>
      </div>
    </div>
  </div>
</div>

<div id="tabs">
  <button class="tab active" data-tab="charts">ðŸ“Š Grafy</button>
  <button class="tab" data-tab="readings">âœï¸ OdeÄty</button>
  <button class="tab" data-tab="netatmo">ðŸ“¡ Netatmo</button>
</div>

<div id="content">

  <!-- CHARTS -->
  <div class="screen active" id="screen-charts">
    <div class="stat-cards" id="statCards"></div>
    <div id="weakAlert"></div>
    <div class="chart-mode-toggle">
      <button class="chart-mode-btn active" id="btnModeMonthly" data-mode="monthly">â€“</button>
      <button class="chart-mode-btn" id="btnModeDaily" data-mode="daily">â€“</button>
    </div>
    <div class="year-pills" id="yearPills"></div>
    <div class="month-pills" id="monthPills" style="display:none"></div>
    <div class="chart-wrap" id="chartWrap">
      <div class="chart-title" id="chartTitle"></div>
      <div id="chartSvgContainer"></div>
      <div class="chart-legend" id="chartLegend"></div>
    </div>
    <div class="info-box" id="infoBox"></div>
  </div>

  <!-- READINGS -->
  <div class="screen" id="screen-readings">
    <div class="panel" style="margin-bottom:16px;">
      <div class="panel-header"><span data-i18n="readingsTitle">NOVÃ ODEÄŒET PLYNOMÄšRU</span></div>
      <div class="panel-body">
        <div class="form-row">
          <div class="form-group">
            <label class="form-label"><span data-i18n="labelDate">Datum</span></label>
            <input type="date" class="form-input" id="inDate">
          </div>
          <div class="form-group">
            <label class="form-label"><span data-i18n="labelValue">Stav plynomÄ›ru (mÂ³)</span></label>
            <input type="number" class="form-input" id="inValue" placeholder="napÅ™. 14 200" style="width:150px">
          </div>
          <div class="form-group" style="flex:1;min-width:100px;">
            <label class="form-label"><span data-i18n="labelNote">PoznÃ¡mka</span></label>
            <input type="text" class="form-input" id="inNote" placeholder="volitelnÃ©" style="width:100%">
          </div>
          <button class="btn-add" id="btnAdd">+ PÅ™idat</button>
        </div>
        <div class="error-text" id="addErr" style="display:none"></div>
      </div>
    </div>
    <div class="panel">
      <div class="panel-header"><span id="readingsCount">ODEÄŒTY</span><span class="hint" data-i18n="hintEnter">Enter = rychlÃ© pÅ™idÃ¡nÃ­</span></div>
      <div style="max-height:420px;overflow-y:auto;overscroll-behavior:contain;" id="readingsList"></div>
    </div>
  </div>

  <!-- NETATMO -->
  <div class="screen" id="screen-netatmo">
    <div class="upload-zone" id="uploadZone">
      <input type="file" accept=".csv" id="fileInput" style="display:none">
      <div class="upload-icon">ðŸ“¡</div>
      <div class="upload-title" id="uploadTitle">NahrÃ¡t Netatmo Energy CSV</div>
      <div class="upload-desc" id="uploadDesc">KaÅ¾dÃ½ CSV se <strong>automaticky slouÄÃ­</strong> s pÅ™edchozÃ­mi daty<br>PÅ™ekryvy OK Â· Mezery = lineÃ¡rnÃ­ fallback Â· LibovolnÃ© poÅ™adÃ­</div>
      <div class="upload-badges" id="uploadBadges">
        <span class="upload-badge">âœ“ PÅ™ekryvy</span>
        <span class="upload-badge">âœ“ Mezery</span>
        <span class="upload-badge">âœ“ Duplicity</span>
        <span class="upload-badge">âœ“ PoÅ™adÃ­</span>
      </div>
      <div class="btn-upload" id="btnUploadLabel">+ PÅ™idat CSV soubor</div>
    </div>
    <div id="importAlert"></div>
    <div id="coverageWrap"></div>
    <div id="howtoWrap"></div>
  </div>

</div>

<script>
// â”€â”€ SUPABASE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const SUPABASE_URL = "https://wpfhuaeoacmrnulprhfh.supabase.co";
const SUPABASE_KEY = "sb_publishable_QaWzVGOMa6-9MDgVFeyeSQ_QJrm4mMp";
const sb = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

let currentUser = null;

// â”€â”€ AUTH FUNCTIONS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function loadUserData() {
  if (!currentUser) return;
  showLoading(true);
  try {
    // Load readings
    const {data: rData, error: rErr} = await sb.from("readings").select("*").order("date");
    if (!rErr && rData.length > 0) {
      readings = rData.map(r => ({
        id: r.id, date: r.date, value: parseFloat(r.value), note: r.note||""
      }));
    }
    // Load netatmo days
    const {data: nData, error: nErr} = await sb.from("netatmo_days").select("*").order("date");
    if (!nErr && nData.length > 0) {
      netatmoDays = nData.map(d => ({
        date: d.date, boilerOnSeconds: parseFloat(d.boiler_on_seconds),
        boilerOnHours: Math.round(parseFloat(d.boiler_on_seconds)/3600*10)/10,
        avgTemp: d.avg_temp ? parseFloat(d.avg_temp) : null
      }));
    }
  } catch(e) { console.error("Load error:", e); }
  showLoading(false);
  renderAll();
}

async function saveReading(r) {
  if (!currentUser) return;
  const isNew = typeof r.id === "number"; // ÄÃ­selnÃ© = doÄasnÃ© lokÃ¡lnÃ­ ID, jeÅ¡tÄ› nenÃ­ v DB
  if (isNew) {
    // INSERT â€” vrÃ¡tÃ­ novÃ½ Å™Ã¡dek s UUID
    const {data, error} = await sb.from("readings").insert({
      user_id: currentUser.id,
      date: r.date, value: r.value, note: r.note||""
    }).select().single();
    if (error) { console.error("Insert error:", error); return; }
    // NahraÄ doÄasnÃ© ÄÃ­selnÃ© ID UUID-Äkem z DB
    readings = readings.map(x => x.id === r.id ? {...x, id: data.id} : x);
    if (pendingDelId === r.id) pendingDelId = data.id;
    if (editingId === r.id) editingId = data.id;
  } else {
    // UPDATE â€” existujÃ­cÃ­ zÃ¡znam s UUID
    const {error} = await sb.from("readings").update({
      date: r.date, value: r.value, note: r.note||""
    }).eq("id", r.id);
    if (error) console.error("Update error:", error);
  }
}

async function deleteReading(id) {
  if (!currentUser || typeof id === "number") return; // ÄÃ­selnÃ© = jen lokÃ¡lnÃ­, nic v DB
  const {error} = await sb.from("readings").delete().eq("id", id);
  if (error) console.error("Delete error:", error);
}

async function saveNetatmoDays(days) {
  if (!currentUser || !days.length) return;
  const rows = days.map(d => ({
    user_id: currentUser.id,
    date: d.date,
    boiler_on_seconds: d.boilerOnSeconds,
    avg_temp: d.avgTemp
  }));
  await sb.from("netatmo_days").upsert(rows, {onConflict: "user_id,date"});
}

async function clearNetatmoCloud() {
  if (!currentUser) return;
  await sb.from("netatmo_days").delete().eq("user_id", currentUser.id);
}

function showLoading(v) {
  document.getElementById("loadingOverlay").style.display = v ? "flex" : "none";
}

function showApp(user) {
  currentUser = user;
  document.getElementById("authScreen").style.display = "none";
  document.getElementById("userMenu").style.display = "flex";
  const email = user.email || "";
  document.getElementById("userEmailFull").textContent = email;
  // Clear seed data for real users
  readings = [];
  netatmoDays = [];
  loadUserData();
}

function showAuth() {
  currentUser = null;
  document.getElementById("authScreen").style.display = "flex";
  document.getElementById("userMenu").style.display = "none";
}

// â”€â”€ AUTH EVENT HANDLERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let authMode = "login";

document.getElementById("tabLogin").addEventListener("click", () => {
  authMode = "login";
  document.getElementById("tabLogin").classList.add("active");
  document.getElementById("tabRegister").classList.remove("active");
  document.getElementById("authSubmit").textContent = t("authLogin");
  document.getElementById("authErr").textContent = "";
  document.getElementById("authSuccess").textContent = "";
});

document.getElementById("tabRegister").addEventListener("click", () => {
  authMode = "register";
  document.getElementById("tabRegister").classList.add("active");
  document.getElementById("tabLogin").classList.remove("active");
  document.getElementById("authSubmit").textContent = t("authRegister");
  document.getElementById("authErr").textContent = "";
  document.getElementById("authSuccess").textContent = "";
});

document.getElementById("authSubmit").addEventListener("click", async () => {
  const email = document.getElementById("authEmail").value.trim();
  const password = document.getElementById("authPassword").value;
  const errEl = document.getElementById("authErr");
  const successEl = document.getElementById("authSuccess");
  const btn = document.getElementById("authSubmit");
  errEl.textContent = ""; successEl.textContent = "";
  if (!email || !password) { errEl.textContent = t("authErrFill"); return; }
  btn.disabled = true; showLoading(true);
  if (authMode === "login") {
    const {data, error} = await sb.auth.signInWithPassword({email, password});
    showLoading(false); btn.disabled = false;
    if (error) { errEl.textContent = t("authErrInvalid"); return; }
    showApp(data.user);
  } else {
    const {data, error} = await sb.auth.signUp({email, password});
    showLoading(false); btn.disabled = false;
    if (error) { errEl.textContent = error.message; return; }
    successEl.textContent = t("authSuccessRegister");
  }
});

document.getElementById("authEmail").addEventListener("keydown", e => { if(e.key==="Enter") document.getElementById("authPassword").focus(); });
document.getElementById("authPassword").addEventListener("keydown", e => { if(e.key==="Enter") document.getElementById("authSubmit").click(); });

// Dropdown toggle
document.getElementById("userBadge").addEventListener("click", (e) => {
  e.stopPropagation();
  const dd = document.getElementById("userDropdown");
  dd.classList.toggle("open");
  document.getElementById("userChevron").textContent = dd.classList.contains("open") ? "â–´" : "â–¾";
});

// Close dropdown when clicking outside
document.addEventListener("click", () => {
  const dd = document.getElementById("userDropdown");
  if (dd) { dd.classList.remove("open"); document.getElementById("userChevron").textContent = "â–¾"; }
});

// Logout button
document.getElementById("btnLogout").addEventListener("click", async (e) => {
  e.stopPropagation();
  await sb.auth.signOut();
  readings = []; netatmoDays = [];
  document.getElementById("userDropdown").classList.remove("open");
  showAuth();
});

// Check existing session on load
sb.auth.getSession().then(({ data: { session } }) => {
  if (session) { showApp(session.user); }
  else { showAuth(); renderAll(); }
});

// â”€â”€ DATA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const KWH = 10.55;
const MO_SHORT = () => T[lang].monthsShort;
const MO_LONG  = () => T[lang].months;

const YP = {
  dark:  {2023:"#3b82f6",2024:"#10b981",2025:"#a855f7",2026:"#f97316"},
  light: {2023:"#2563eb",2024:"#059669",2025:"#7c3aed",2026:"#d95f00"},
};

let readings = []; // data se naÄtou z Supabase po pÅ™ihlÃ¡Å¡enÃ­
let nextId = 200;
let pendingDelId = null;  // ID ÄekajÃ­cÃ­ na potvrzenÃ­ smazÃ¡nÃ­
let editingId = null;     // ID prÃ¡vÄ› editovanÃ©ho odeÄtu
let netatmoDays = [];
let unit = "m3";
let theme = "dark";
let lang = "cs";
let chartMode = "monthly";
let selMonth = 1;
let visYears = [2024,2025,2026];

// â”€â”€ NETATMO PARSER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function parseNetatmoCSV(text) {
  const lines = text.split(/\r?\n/);
  let hi = -1;
  for (let i=0;i<lines.length;i++) { if (lines[i].startsWith("Timestamp")) {hi=i;break;} }
  if (hi===-1) throw new Error("Nenalezen Å™Ã¡dek 'Timestamp'.");
  const db={}, dt={};
  let parsed=0;
  for (let i=hi+1;i<lines.length;i++) {
    const l=lines[i].trim(); if (!l) continue;
    const p=l.split(","); if (p.length<5) continue;
    try {
      const date=p[1].replace(/"/g,"").trim().slice(0,10).replace(/\//g,"-");
      if (!/^\d{4}-\d{2}-\d{2}$/.test(date)) continue;
      const boilerOn=parseFloat(p[4]), temp=parseFloat(p[2]);
      if (isNaN(boilerOn)||isNaN(temp)) continue;
      db[date]=(db[date]||0)+boilerOn;
      if (!dt[date]) dt[date]=[];
      dt[date].push(temp); parsed++;
    } catch(e){}
  }
  const days=Object.keys(db).sort();
  if (!days.length) throw new Error("CSV neobsahuje platnÃ¡ data.");
  return {
    days: days.map(d=>({date:d, boilerOnSeconds:Math.round(db[d]),
      boilerOnHours:Math.round(db[d]/3600*10)/10,
      avgTemp:dt[d]?Math.round(dt[d].reduce((s,v)=>s+v,0)/dt[d].length*10)/10:null,
      records:dt[d]?.length||0})),
    parsed, dateFrom:days[0], dateTo:days[days.length-1]
  };
}

function mergeNetatmo(existing, incoming) {
  const map={};
  for (const d of existing) map[d.date]=d;
  for (const d of incoming) map[d.date]=d;
  return Object.values(map).sort((a,b)=>a.date.localeCompare(b.date));
}

// â”€â”€ INTERPOLATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function getBoilerMap() {
  if (!netatmoDays.length) return null;
  const m={};
  for (const d of netatmoDays) m[d.date]=d.boilerOnSeconds;
  return m;
}

function buildDailyMap() {
  const bom=getBoilerMap();
  const sorted=[...readings].sort((a,b)=>new Date(a.date)-new Date(b.date));
  const daily={};
  for (let i=0;i<sorted.length-1;i++) {
    const s=new Date(sorted[i].date), e=new Date(sorted[i+1].date);
    const dc=Math.round((e-s)/86400000);
    if (dc<=0) continue;
    const total=sorted[i+1].value-sorted[i].value;
    if (total<0) continue;
    const days=[];
    for (let d=0;d<dc;d++) {
      const day=new Date(s); day.setDate(s.getDate()+d);
      const key=day.toISOString().slice(0,10);
      days.push({key, boiler:bom?.[key]??null});
    }
    const allB=bom&&days.every(d=>d.boiler!==null);
    if (allB) {
      const tb=days.reduce((s,d)=>s+d.boiler,0);
      for (const {key,boiler} of days) daily[key]=tb>0?(boiler/tb)*total:total/dc;
    } else {
      for (const {key} of days) daily[key]=total/dc;
    }
  }
  return daily;
}

function aggregateMonthly(dm) {
  const r={};
  for (const [date,val] of Object.entries(dm)) {
    const [y,m]=date.split("-"); const k=`${y}-${m}`;
    r[k]=(r[k]||0)+val;
  }
  return r;
}

function convert(m3) { return unit==="kwh" ? m3*KWH : m3; }
function ul() { return unit==="m3"?"mÂ³":"kWh"; }

// â”€â”€ TRANSLATIONS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const T = {
  cs: {
    // Header
    appName: "Plynograf",
    logoSubLinear: "lineÃ¡rnÃ­ interpolace",
    logoSubBoiler: "âœ“ BoilerOn Â· {n} dnÃ­",
    // Tabs
    tabCharts: "ðŸ“Š Grafy",
    tabReadings: "âœï¸ OdeÄty",
    tabNetatmo: "ðŸ“¡ Netatmo",
    // Stat cards
    statThisMonth: "Tento mÄ›sÃ­c",
    statVsLastYear: "vs. loni",
    statLastYear: "Loni",
    statInterpolation: "Interpolace",
    statReadings: "OdeÄtÅ¯",
    statIrregular: "nepravidelnÃ©",
    statUploadCSV: "Nahrajte CSV",
    statDays: "dnÃ­",
    // Chart
    chartMonthly: "MÄ›sÃ­ÄnÃ­",
    chartDaily: "DennÃ­ detail",
    chartTitleMonthly: "SpotÅ™eba po mÄ›sÃ­cÃ­ch",
    chartTitleDailyPre: "DennÃ­ spotÅ™eba",
    chartBoilerOn: "ðŸŸ¢ BoilerOn",
    chartLinear: "lineÃ¡rnÃ­",
    labelYears: "ROKY:",
    labelMonth: "MÄšSÃC:",
    // Info box
    infoWeighted: "VÃ¡Å¾enÃ¡ interpolace (BoilerOn):",
    infoWeightedDesc: "DennÃ­ spotÅ™eba odpovÃ­dÃ¡ dobÄ› provozu kotle. Dny s delÅ¡Ã­m topenÃ­m majÃ­ vyÅ¡Å¡Ã­ podÃ­l.",
    infoLinear: "LineÃ¡rnÃ­ interpolace:",
    infoLinearDesc: "SpotÅ™eba rovnomÄ›rnÄ› rozdÄ›lena. Nahrajte Netatmo CSV pro pÅ™esnÄ›jÅ¡Ã­ vÃ½sledky.",
    // Weak intervals
    weakAlert: "interval s neÃºplnÃ½mi Netatmo daty:",
    weakAlerts: "intervaly s neÃºplnÃ½mi Netatmo daty:",
    // Readings
    readingsTitle: "NOVÃ ODEÄŒET PLYNOMÄšRU",
    labelDate: "Datum",
    labelValue: "Stav plynomÄ›ru (mÂ³)",
    labelNote: "PoznÃ¡mka",
    placeholderValue: "napÅ™. 14 200",
    placeholderNote: "volitelnÃ©",
    btnAdd: "+ PÅ™idat",
    readingsCount: "ODEÄŒTY â€” {n} zÃ¡znamÅ¯",
    hintEnter: "Enter = rychlÃ© pÅ™idÃ¡nÃ­",
    errFillAll: "VyplÅˆte datum i hodnotu.",
    errInvalidVal: "NeplatnÃ¡ hodnota.",
    errOrder: "Hodnota musÃ­ bÃ½t vÄ›tÅ¡Ã­ neÅ¾ pÅ™edchozÃ­ odeÄet.",
    confirmDelete: "Opravdu smazat tento odeÄet?",
    btnBack: "ZpÄ›t",
    btnDelete: "Smazat",
    btnSave: "âœ“ UloÅ¾it",
    btnCancel: "ZruÅ¡it",
    editErrFill: "VyplÅˆte datum i hodnotu.",
    editErrOrder: "Hodnota by poruÅ¡ila poÅ™adÃ­ odeÄtÅ¯ â€” zkontrolujte ÄÃ­slo.",
    // Netatmo
    uploadTitle: "NahrÃ¡t Netatmo Energy CSV",
    uploadDesc: "KaÅ¾dÃ½ CSV se <strong>automaticky slouÄÃ­</strong> s pÅ™edchozÃ­mi daty<br>PÅ™ekryvy OK Â· Mezery = lineÃ¡rnÃ­ fallback Â· LibovolnÃ© poÅ™adÃ­",
    uploadBadges: ["âœ“ PÅ™ekryvy","âœ“ Mezery","âœ“ Duplicity","âœ“ PoÅ™adÃ­"],
    btnUpload: "+ PÅ™idat CSV soubor",
    importSuccess: "âœ“ Import",
    importDays: "dnÃ­",
    importTotal: "Celkem",
    coverageTitle: "POKRYTÃ NETATMO DAT PER MÄšSÃC",
    btnClearNetatmo: "Vymazat Netatmo data",
    howtoTitle: "Jak exportovat z Netatmo Energy:",
    howtoSteps: [
      "OtevÅ™ete Netatmo Energy (web nebo app)",
      "NastavenÃ­ â†’ SprÃ¡va dat â†’ StÃ¡hnout historii",
      "Zvolte ÄasovÃ© obdobÃ­ â†’ Export CSV",
      "Nahrajte sem â€” opakujte pro kaÅ¾dÃ© obdobÃ­"
    ],
    authLogin: "PÅ™ihlÃ¡sit se",
    authRegister: "Registrovat",
    authErrFill: "VyplÅˆte e-mail a heslo.",
    authErrInvalid: "Å patnÃ½ e-mail nebo heslo.",
    authSuccessRegister: "ÃšÄet vytvoÅ™en! Zkontrolujte e-mail pro potvrzenÃ­.",
    authLogout: "OdhlÃ¡sit se",
    authLogoutConfirm: "Opravdu se chcete odhlÃ¡sit?",
    months: ["Leden","Ãšnor","BÅ™ezen","Duben","KvÄ›ten","ÄŒerven","ÄŒervenec","Srpen","ZÃ¡Å™Ã­","Å˜Ã­jen","Listopad","Prosinec"],
    monthsShort: ["Led","Ãšno","BÅ™e","Dub","KvÄ›","ÄŒvn","ÄŒvc","Srp","ZÃ¡Å™","Å˜Ã­j","Lis","Pro"],
  },
  en: {
    appName: "GasChart",
    logoSubLinear: "linear interpolation",
    logoSubBoiler: "âœ“ BoilerOn Â· {n} days",
    tabCharts: "ðŸ“Š Charts",
    tabReadings: "âœï¸ Readings",
    tabNetatmo: "ðŸ“¡ Netatmo",
    statThisMonth: "This month",
    statVsLastYear: "vs. last year",
    statLastYear: "Last year",
    statInterpolation: "Interpolation",
    statReadings: "Readings",
    statIrregular: "irregular",
    statUploadCSV: "Upload CSV",
    statDays: "days",
    chartMonthly: "Monthly",
    chartDaily: "Daily detail",
    chartTitleMonthly: "Consumption by month",
    chartTitleDailyPre: "Daily consumption",
    chartBoilerOn: "ðŸŸ¢ BoilerOn",
    chartLinear: "linear",
    labelYears: "YEARS:",
    labelMonth: "MONTH:",
    infoWeighted: "Weighted interpolation (BoilerOn):",
    infoWeightedDesc: "Daily consumption reflects actual boiler runtime. Days with longer heating get a higher share.",
    infoLinear: "Linear interpolation:",
    infoLinearDesc: "Consumption spread evenly between readings. Upload Netatmo CSV for more accurate results.",
    weakAlert: "interval with incomplete Netatmo data:",
    weakAlerts: "intervals with incomplete Netatmo data:",
    readingsTitle: "NEW METER READING",
    labelDate: "Date",
    labelValue: "Meter reading (mÂ³)",
    labelNote: "Note",
    placeholderValue: "e.g. 14 200",
    placeholderNote: "optional",
    btnAdd: "+ Add",
    readingsCount: "READINGS â€” {n} entries",
    hintEnter: "Enter = quick add",
    errFillAll: "Please fill in date and value.",
    errInvalidVal: "Invalid value.",
    errOrder: "Value must be greater than the previous reading.",
    confirmDelete: "Really delete this reading?",
    btnBack: "Back",
    btnDelete: "Delete",
    btnSave: "âœ“ Save",
    btnCancel: "Cancel",
    editErrFill: "Please fill in date and value.",
    editErrOrder: "Value would break reading order â€” please check the number.",
    uploadTitle: "Upload Netatmo Energy CSV",
    uploadDesc: "Each CSV is <strong>automatically merged</strong> with previously uploaded data<br>Overlaps OK Â· Gaps = linear fallback Â· Any order",
    uploadBadges: ["âœ“ Overlaps","âœ“ Gaps","âœ“ Duplicates","âœ“ Any order"],
    btnUpload: "+ Add CSV file",
    importSuccess: "âœ“ Imported",
    importDays: "days",
    importTotal: "Total",
    coverageTitle: "NETATMO DATA COVERAGE PER MONTH",
    btnClearNetatmo: "Clear Netatmo data",
    howtoTitle: "How to export from Netatmo Energy:",
    howtoSteps: [
      "Open Netatmo Energy (web or app)",
      "Settings â†’ Data management â†’ Download history",
      "Choose a time period â†’ Export CSV",
      "Upload here â€” repeat for each period"
    ],
    authLogin: "Sign in",
    authRegister: "Register",
    authErrFill: "Please fill in email and password.",
    authErrInvalid: "Invalid email or password.",
    authSuccessRegister: "Account created! Check your email to confirm.",
    authLogout: "Sign out",
    authLogoutConfirm: "Are you sure you want to sign out?",
    months: ["January","February","March","April","May","June","July","August","September","October","November","December"],
    monthsShort: ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],
  }
};
function t(key, vars) {
  const str = T[lang][key] ?? T["cs"][key] ?? key;
  if (!vars) return str;
  return str.replace(/\{(\w+)\}/g, (_,k) => vars[k] ?? "");
}

// â”€â”€ SVG BAR CHART â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderBarChart() {
  const dm=buildDailyMap(), mm=aggregateMonthly(dm);
  const palette=YP[theme];
  const container=document.getElementById("chartSvgContainer");
  const W=container.offsetWidth||document.getElementById("chartWrap").offsetWidth-32||window.innerWidth-64;
  const H=220, PL=48, PR=8, PT=10, PB=30;
  const cW=W-PL-PR, cH=H-PT-PB;

  // gather data
  const data=MO_SHORT().map((label,mi)=>{
    const row={label,mi};
    for (const y of visYears) {
      const key=`${y}-${String(mi+1).padStart(2,"0")}`;
      row[y]=mm[key]!=null?convert(mm[key]):null;
    }
    return row;
  });

  const allVals=data.flatMap(r=>visYears.map(y=>r[y]).filter(v=>v!=null));
  const maxV=allVals.length?Math.max(...allVals)*1.1:10;

  const barW=Math.max(4, (cW/12 - visYears.length*2) / visYears.length);
  const groupW=cW/12;

  let bars="", labels="", yLines="";

  // Y grid lines
  const ticks=4;
  for (let t=0;t<=ticks;t++) {
    const val=maxV*t/ticks;
    const y=PT+cH-(cH*t/ticks);
    yLines+=`<line x1="${PL}" y1="${y}" x2="${W-PR}" y2="${y}" stroke="${theme==="dark"?"#21262d":"#e5e7eb"}" stroke-dasharray="2,4"/>`;
    yLines+=`<text x="${PL-4}" y="${y+4}" text-anchor="end" font-size="9" fill="${theme==="dark"?"#6e7681":"#6e7781"}">${val>=100?Math.round(val):val.toFixed(1)}</text>`;
  }

  // bars
  data.forEach((row,mi)=>{
    const gx=PL+mi*groupW;
    // label
    labels+=`<text x="${gx+groupW/2}" y="${H-8}" text-anchor="middle" font-size="9" fill="${theme==="dark"?"#6e7681":"#6e7781"}">${row.label}</text>`;
    visYears.forEach((y,yi)=>{
      if (row[y]==null) return;
      const bh=Math.max(2,(row[y]/maxV)*cH);
      const bx=gx+(yi*(barW+2))+(groupW-visYears.length*(barW+2))/2;
      const by=PT+cH-bh;
      const color=palette[y]||"#94a3b8";
      bars+=`<rect x="${bx}" y="${by}" width="${barW}" height="${bh}" fill="${color}" rx="2" opacity="0.9">
        <title>${y}: ${row[y].toFixed(1)} ${ul()}</title></rect>`;
    });
  });

  document.getElementById("chartSvgContainer").innerHTML=
    `<svg width="100%" height="${H}" viewBox="0 0 ${W} ${H}" xmlns="http://www.w3.org/2000/svg">
      ${yLines}${bars}${labels}
    </svg>`;
}

// â”€â”€ SVG AREA CHART â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderAreaChart() {
  const dm=buildDailyMap();
  const palette=YP[theme];
  const container=document.getElementById("chartSvgContainer");
  const W=container.offsetWidth||document.getElementById("chartWrap").offsetWidth-32||window.innerWidth-64;
  const H=220, PL=48, PR=8, PT=10, PB=30;
  const cW=W-PL-PR, cH=H-PT-PB;
  const days=31;

  const data=Array.from({length:days},(_,di)=>{
    const d=di+1, row={d};
    for (const y of visYears) {
      const m=String(selMonth+1).padStart(2,"0"), ds=`${y}-${m}-${String(d).padStart(2,"0")}`;
      if (new Date(ds).getMonth()!==selMonth) { row[y]=null; continue; }
      const raw=dm[ds]??null;
      row[y]=raw!==null?convert(raw):null;
    }
    return row;
  });

  const allVals=data.flatMap(r=>visYears.map(y=>r[y]).filter(v=>v!=null));
  const maxV=allVals.length?Math.max(...allVals)*1.15:1;

  let areas="", lines="", yLines="";

  const ticks=4;
  for (let t=0;t<=ticks;t++) {
    const val=maxV*t/ticks;
    const y=PT+cH-(cH*t/ticks);
    yLines+=`<line x1="${PL}" y1="${y}" x2="${W-PR}" y2="${y}" stroke="${theme==="dark"?"#21262d":"#e5e7eb"}" stroke-dasharray="2,4"/>`;
    yLines+=`<text x="${PL-4}" y="${y+4}" text-anchor="end" font-size="9" fill="${theme==="dark"?"#6e7681":"#6e7781"}">${val.toFixed(2)}</text>`;
  }

  // X labels
  let xlabels="";
  [1,5,10,15,20,25,31].forEach(d=>{
    const x=PL+(d-1)/(days-1)*cW;
    xlabels+=`<text x="${x}" y="${H-8}" text-anchor="middle" font-size="9" fill="${theme==="dark"?"#6e7681":"#6e7781"}">${d}</text>`;
  });

  visYears.forEach(y=>{
    const color=palette[y]||"#94a3b8";
    const pts=data.map((r,i)=>({x:PL+i/(days-1)*cW, y:r[y]!=null?PT+cH-(r[y]/maxV)*cH:null}));

    // build path segments (skip nulls)
    let linePath="", areaPath="";
    let seg=[];
    pts.forEach((p,i)=>{
      if (p.y!==null) { seg.push(p); }
      else {
        if (seg.length>1) {
          linePath+=seg.map((pt,j)=>`${j===0?"M":"L"}${pt.x.toFixed(1)},${pt.y.toFixed(1)}`).join(" ")+" ";
          areaPath+=`M${seg[0].x.toFixed(1)},${(PT+cH).toFixed(1)} `+seg.map(pt=>`L${pt.x.toFixed(1)},${pt.y.toFixed(1)}`).join(" ")+` L${seg[seg.length-1].x.toFixed(1)},${(PT+cH).toFixed(1)} Z `;
        }
        seg=[];
      }
    });
    if (seg.length>1) {
      linePath+=seg.map((pt,j)=>`${j===0?"M":"L"}${pt.x.toFixed(1)},${pt.y.toFixed(1)}`).join(" ");
      areaPath+=`M${seg[0].x.toFixed(1)},${(PT+cH).toFixed(1)} `+seg.map(pt=>`L${pt.x.toFixed(1)},${pt.y.toFixed(1)}`).join(" ")+` L${seg[seg.length-1].x.toFixed(1)},${(PT+cH).toFixed(1)} Z`;
    }

    const gradId=`grad${y}`;
    areas+=`<defs><linearGradient id="${gradId}" x1="0" y1="0" x2="0" y2="1">
      <stop offset="5%" stop-color="${color}" stop-opacity="${theme==="dark"?0.25:0.15}"/>
      <stop offset="95%" stop-color="${color}" stop-opacity="0"/>
    </linearGradient></defs>
    <path d="${areaPath}" fill="url(#${gradId})"/>`;
    lines+=`<path d="${linePath}" fill="none" stroke="${color}" stroke-width="2"/>`;
  });

  document.getElementById("chartSvgContainer").innerHTML=
    `<svg width="100%" height="${H}" viewBox="0 0 ${W} ${H}" xmlns="http://www.w3.org/2000/svg">
      ${yLines}${areas}${lines}${xlabels}
    </svg>`;
}

// â”€â”€ RENDER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function availableYears() {
  return [...new Set(readings.map(r=>new Date(r.date).getFullYear()))].sort();
}

function renderAll() {
  const bom=getBoilerMap();
  const useBoiler=!!bom;
  const palette=YP[theme];

  // Logo sub
  // Auth screen labels
  const authAppNameEl = document.getElementById("authAppName");
  if (authAppNameEl) authAppNameEl.textContent = t("appName");
  const tabLoginEl = document.getElementById("tabLogin");
  const tabRegEl = document.getElementById("tabRegister");
  if (tabLoginEl) tabLoginEl.textContent = t("authLogin");
  if (tabRegEl) tabRegEl.textContent = t("authRegister");
  const authBtn = document.getElementById("authSubmit");
  if (authBtn) authBtn.textContent = authMode==="login" ? t("authLogin") : t("authRegister");
  const logoutBtn = document.getElementById("btnLogout");
  if (logoutBtn) logoutBtn.innerHTML = "â» &nbsp;" + t("authLogout");

  document.getElementById("logoSub").textContent=
    useBoiler ? t("logoSubBoiler",{n:netatmoDays.length}) : t("logoSubLinear");

  // Tab labels
  document.querySelector('[data-tab="charts"]').textContent=t("tabCharts");
  document.querySelector('[data-tab="readings"]').textContent=t("tabReadings");
  document.querySelector('[data-tab="netatmo"]').textContent=
    t("tabNetatmo")+(netatmoDays.length?` (${netatmoDays.length}d)`:"");

  // Theme
  document.body.className=theme==="light"?"light":"";
  document.title=t("appName")+" ðŸ”¥";
  document.getElementById("themeBtn").textContent=theme==="dark"?"â˜€ï¸":"ðŸŒ™";
  document.getElementById("themeColor").content=theme==="dark"?"#010409":"#f6f8fa";

  // Netatmo tab label
  document.querySelector('[data-tab="netatmo"]').textContent=
    `ðŸ“¡ Netatmo${netatmoDays.length?` (${netatmoDays.length}d)`:""}`;

  // â”€â”€ STATS
  const dm=buildDailyMap(), mm=aggregateMonthly(dm);
  const now=new Date();
  const curKey=`${now.getFullYear()}-${String(now.getMonth()+1).padStart(2,"0")}`;
  const prevKey=`${now.getFullYear()-1}-${String(now.getMonth()+1).padStart(2,"0")}`;
  const cur=convert(mm[curKey]||0), prev=convert(mm[prevKey]||0);
  const pct=prev>0?Math.round(((cur-prev)/prev)*100):null;
  const diffColor=pct===null?(theme==="dark"?"#6e7681":"#6e7781"):pct<0?(theme==="dark"?"#3fb950":"#0a8c5a"):(theme==="dark"?"#f85149":"#b91c1c");
  const diffLabel=pct===null?"â€“":`${pct<0?"â–¼":"â–²"} ${Math.abs(pct)}%`;
  const accentColor=theme==="dark"?"#f97316":"#d95f00";
  const successColor=theme==="dark"?"#34d399":"#0a8c5a";
  const mutedColor=theme==="dark"?"#8b949e":"#57606a";

  document.getElementById("statCards").innerHTML=[
    {label:t("statThisMonth"),value:`${cur.toFixed(1)} ${ul()}`,color:accentColor},
    {label:t("statVsLastYear"),value:diffLabel,color:diffColor,sub:`${t("statLastYear")}: ${prev.toFixed(1)} ${ul()}`},
    {label:t("statInterpolation"),value:useBoiler?"BoilerOn âœ“":(lang==="cs"?"LineÃ¡rnÃ­":"Linear"),color:useBoiler?successColor:mutedColor,sub:useBoiler?`${netatmoDays.length} ${t("statDays")}`:t("statUploadCSV")},
    {label:t("statReadings"),value:readings.length,color:"",sub:t("statIrregular")},
  ].map(c=>`<div class="stat-card">
    <div class="stat-label">${c.label}</div>
    <div class="stat-value" style="color:${c.color||"inherit"}">${c.value}</div>
    ${c.sub?`<div class="stat-sub">${c.sub}</div>`:""}
  </div>`).join("");

  // â”€â”€ WEAK INTERVALS
  const sorted=[...readings].sort((a,b)=>new Date(a.date)-new Date(b.date));
  const weak=[];
  if (bom) {
    for (let i=0;i<sorted.length-1;i++) {
      const s=new Date(sorted[i].date), e=new Date(sorted[i+1].date);
      const dc=Math.round((e-s)/86400000); if (dc<=0) continue;
      let cov=0;
      for (let d=0;d<dc;d++) {
        const day=new Date(s); day.setDate(s.getDate()+d);
        if (bom[day.toISOString().slice(0,10)]!==undefined) cov++;
      }
      const pct=Math.round(cov/dc*100);
      if (pct<100) weak.push({from:sorted[i].date,to:sorted[i+1].date,dc,pct});
    }
  }
  document.getElementById("weakAlert").innerHTML=weak.length
    ?`<div class="alert alert-warn" style="margin-bottom:14px">
      <strong>âš  ${weak.length} interval${weak.length>1?"y":""} s neÃºplnÃ½mi Netatmo daty:</strong><br>
      ${weak.map(w=>`<span style="font-family:monospace;font-size:11px">${w.from} â†’ ${w.to} Â· ${w.pct}%</span>`).join("<br>")}
    </div>`:"";

  // Update chart mode button labels
  const bMonthly=document.getElementById("btnModeMonthly");
  const bDaily=document.getElementById("btnModeDaily");
  if(bMonthly) bMonthly.textContent=t("chartMonthly");
  if(bDaily) bDaily.textContent=t("chartDaily");

  // â”€â”€ YEAR PILLS
  const ay=availableYears();
  document.getElementById("yearPills").innerHTML=
    `<span style="font-size:10px;color:${theme==="dark"?"#6e7681":"#6e7781"};font-family:monospace;margin-right:4px">${t("labelYears")}</span>`+
    ay.map(y=>{
      const c=palette[y]||"#94a3b8", active=visYears.includes(y);
      return `<button class="year-pill" data-year="${y}" style="border-color:${c};background:${active?c:"transparent"};color:${active?"#fff":c}">${y}</button>`;
    }).join("");

  // â”€â”€ MONTH PILLS
  const mp=document.getElementById("monthPills");
  if (chartMode==="daily") {
    mp.style.display="flex";
    mp.innerHTML=`<span style="font-size:10px;color:${theme==="dark"?"#6e7681":"#6e7781"};font-family:monospace;margin-right:4px">${t("labelMonth")}</span>`+
      MO_SHORT().map((m,i)=>`<button class="month-pill${selMonth===i?" active":""}" data-month="${i}">${m}</button>`).join("");
  } else { mp.style.display="none"; }

  // â”€â”€ CHART
  const chartTitle=chartMode==="monthly"
    ?`${t("chartTitleMonthly")} Â· ${ul()}${useBoiler?" Â· "+t("chartBoilerOn"):" Â· "+t("chartLinear")}`
    :`${t("chartTitleDailyPre")} Â· ${MO_LONG()[selMonth]} Â· ${ul()}`;
  document.getElementById("chartTitle").textContent=chartTitle;

  if (chartMode==="monthly") renderBarChart(); else renderAreaChart();

  // Legend
  document.getElementById("chartLegend").innerHTML=visYears.map(y=>{
    const c=palette[y]||"#94a3b8";
    return chartMode==="monthly"
      ?`<div class="legend-item"><div style="width:12px;height:12px;background:${c};border-radius:2px"></div><span style="color:${c}">${y}</span></div>`
      :`<div class="legend-item"><div style="width:20px;height:2px;background:${c};border-radius:2px"></div><span style="color:${c}">${y}</span></div>`;
  }).join("");

  // Info box
  document.getElementById("infoBox").innerHTML=useBoiler
    ?`<span>ðŸŸ¢</span><span><strong style="color:${successColor}">${t("infoWeighted")}</strong> ${t("infoWeightedDesc")}</span>`
    :`<span>ðŸ”¬</span><span><strong style="color:${theme==="dark"?"#58a6ff":"#1d4ed8"}">${t("infoLinear")}</strong> ${t("infoLinearDesc")}</span>`;

  // â”€â”€ READINGS LIST
  document.getElementById("readingsCount").textContent=t("readingsCount",{n:readings.length});
  const sortedR=[...readings].sort((a,b)=>new Date(b.date)-new Date(a.date));
  document.getElementById("readingsList").innerHTML=sortedR.map((r,i)=>{
    const next=sortedR[i+1];
    const diff=next?r.value-next.value:null;
    const days=next?Math.round((new Date(r.date)-new Date(next.date))/86400000):null;
    let iPct=null;
    if (bom&&diff!==null&&days!==null) {
      let cov=0;
      for (let d=0;d<days;d++) {
        const day=new Date(next.date); day.setDate(new Date(next.date).getDate()+d);
        if (bom[day.toISOString().slice(0,10)]!==undefined) cov++;
      }
      iPct=Math.round(cov/days*100);
    }
    const pctColor=iPct===null?"":`color:${iPct===100?successColor:iPct>50?(theme==="dark"?"#f59e0b":"#a16207"):accentColor}`;
    const pctLabel=iPct===null?"":iPct===100?`<span class="reading-pct" style="${pctColor}">âœ“100%</span>`:`<span class="reading-pct" style="${pctColor}">âš ${iPct}%</span>`;
    const isLatest=i===0;
    const latestBg=isLatest?`background:${accentColor}0a`:"";

    // EDITING STATE
    if (editingId!==null && String(editingId)===String(r.id)) {
      return `<div class="reading-row editing" data-id="${r.id}">
        <div class="edit-row-top">
          <input class="edit-input edit-input-date" type="date" id="editDate_${r.id}" value="${r.date}">
          <input class="edit-input edit-input-val" type="number" id="editVal_${r.id}" value="${r.value}" placeholder="mÂ³">
          <input class="edit-input edit-input-note" type="text" id="editNote_${r.id}" value="${r.note||""}" placeholder="${t('placeholderNote')}">
          <button class="btn-save-edit" data-save="${r.id}">${t("btnSave")}</button>
          <button class="btn-cancel-edit" data-canceledit="${r.id}">${t("btnCancel")}</button>
        </div>
        <div class="edit-err" id="editErr_${r.id}"></div>
      </div>`;
    }

    // CONFIRM DELETE STATE
    if (pendingDelId!==null && String(pendingDelId)===String(r.id)) {
      return `<div class="reading-row confirm-del" data-id="${r.id}">
        <div class="reading-dot${isLatest?" latest":""}"></div>
        <span class="reading-date">${r.date}</span>
        <span class="confirm-del-msg">${t("confirmDelete")}</span>
        <button class="btn-cancel-del" data-canceldel="${r.id}">${t("btnBack")}</button>
        <button class="btn-confirm-del" data-confirmdel="${r.id}">${t("btnDelete")}</button>
      </div>`;
    }

    // NORMAL STATE
    return `<div class="reading-row${isLatest?" latest-row":""}" style="${latestBg}" data-id="${r.id}">
      <div class="reading-dot${isLatest?" latest":""}"></div>
      <span class="reading-date">${r.date}</span>
      <span class="reading-value">${r.value.toLocaleString("cs-CZ")} mÂ³</span>
      ${diff!==null?`<span class="reading-diff">+${diff.toFixed(1)}</span>`:""}
      ${days!==null&&diff!==null?`<span class="reading-days">${days}d</span>`:""}
      ${pctLabel}
      ${r.note?`<span style="font-size:11px;color:${theme==="dark"?"#6e7681":"#6e7781"};flex:1">${r.note}</span>`:"<span style='flex:1'></span>"}
      <button class="btn-edit" data-edit="${r.id}" title="Upravit">âœï¸</button>
      <button class="btn-del" data-del="${r.id}" title="Smazat">âœ•</button>
    </div>`;
  }).join("");

  // â”€â”€ UPDATE STATIC i18n LABELS
  const i18nEls=document.querySelectorAll("[data-i18n]");
  i18nEls.forEach(el=>{ const k=el.dataset.i18n; if(T[lang][k]) el.textContent=T[lang][k]; });
  // Upload zone
  const upTitle=document.getElementById("uploadTitle");
  const upDesc=document.getElementById("uploadDesc");
  const upBadges=document.getElementById("uploadBadges");
  const upBtn=document.getElementById("btnUploadLabel");
  if(upTitle) upTitle.textContent=t("uploadTitle");
  if(upDesc) upDesc.innerHTML=t("uploadDesc");
  if(upBadges) upBadges.innerHTML=t("uploadBadges").map(b=>`<span class="upload-badge">${b}</span>`).join("");
  if(upBtn) upBtn.textContent=t("btnUpload");
  // Add button
  const addBtn=document.getElementById("btnAdd");
  if(addBtn) addBtn.textContent=t("btnAdd");
  // Form placeholders
  const inVal=document.getElementById("inValue");
  if(inVal) inVal.placeholder=t("placeholderValue");
  const inNote=document.getElementById("inNote");
  if(inNote) inNote.placeholder=t("placeholderNote");

  // â”€â”€ NETATMO TAB
  renderNetatmoTab();
}

function renderNetatmoTab() {
  const successColor=theme==="dark"?"#34d399":"#0a8c5a";

  // Coverage
  const covWrap=document.getElementById("coverageWrap");
  const sorted=[...readings].sort((a,b)=>new Date(a.date)-new Date(b.date));
  if (!netatmoDays.length||sorted.length<2) { covWrap.innerHTML=""; }
  else {
    const bs=new Set(netatmoDays.map(d=>d.date));
    const first=new Date(sorted[0].date), last=new Date(sorted[sorted.length-1].date);
    const cov={}, cur=new Date(first.getFullYear(),first.getMonth(),1);
    while (cur<=last) {
      const y=cur.getFullYear(), m=cur.getMonth();
      const key=`${y}-${String(m+1).padStart(2,"0")}`;
      const dim=new Date(y,m+1,0).getDate(); let covered=0;
      for (let d=1;d<=dim;d++) if (bs.has(`${y}-${String(m+1).padStart(2,"0")}-${String(d).padStart(2,"0")}`)) covered++;
      cov[key]={year:y,month:m,pct:Math.round(covered/dim*100)};
      cur.setMonth(cur.getMonth()+1);
    }
    const mutedColor=theme==="dark"?"#8b949e":"#57606a";
    const warnColor=theme==="dark"?"#f59e0b":"#a16207";
    const accentColor=theme==="dark"?"#f97316":"#d95f00";
    const borderColor=theme==="dark"?"#30363d":"#b1bac4";
    covWrap.innerHTML=`<div class="panel">
      <div class="panel-header">POKRYTÃ NETATMO DAT PER MÄšSÃC</div>
      <div class="panel-body">
        <div style="display:flex;gap:12px;margin-bottom:12px;flex-wrap:wrap">
          ${[[successColor,"100%"],[warnColor,">50%"],[accentColor,"<50%"],[borderColor,"0%"]].map(([c,t])=>
            `<div style="display:flex;align-items:center;gap:5px"><div style="width:10px;height:10px;background:${c};border-radius:2px"></div><span style="font-size:11px;color:${mutedColor}">${t}</span></div>`
          ).join("")}
        </div>
        ${Object.entries(cov).sort().map(([key,c])=>{
          const pct=c.pct;
          const color=pct===100?successColor:pct>50?warnColor:pct>0?accentColor:borderColor;
          return `<div class="cov-row">
            <span class="cov-label">${MO_SHORT()[c.month]} ${c.year}</span>
            <div class="cov-track"><div class="cov-fill" style="width:${pct}%;background:${color}"></div></div>
            <span class="cov-pct" style="color:${color}">${pct}%</span>
          </div>`;
        }).join("")}
        <div style="margin-top:14px;display:flex;justify-content:flex-end">
          <button id="btnClearNetatmo" style="background:${theme==="dark"?"rgba(248,81,73,.1)":"rgba(185,28,28,.07)"};border:1px solid ${theme==="dark"?"rgba(248,81,73,.3)":"rgba(185,28,28,.25)"};border-radius:5px;color:${theme==="dark"?"#f85149":"#b91c1c"};padding:5px 12px;font-size:11px;font-family:monospace">Vymazat Netatmo data</button>
        </div>
      </div>
    </div>`;
  }

  // How-to
  const accentColor=theme==="dark"?"#f97316":"#d95f00";
  const mutedColor=theme==="dark"?"#8b949e":"#57606a";
  document.getElementById("howtoWrap").innerHTML=netatmoDays.length?"":
    `<div class="panel"><div class="panel-body">
      <p style="font-size:12px;color:${mutedColor};font-weight:600;margin-bottom:12px">Jak exportovat z Netatmo Energy:</p>
      ${t("howtoSteps").map((s,i)=>
        `<div style="display:flex;gap:10px;margin-bottom:8px;align-items:flex-start">
          <div style="width:20px;height:20px;border-radius:50%;background:${accentColor};color:#fff;font-size:11px;font-weight:700;display:flex;align-items:center;justify-content:center;flex-shrink:0">${i+1}</div>
          <p style="font-size:13px;color:${mutedColor};line-height:1.5">${s}</p>
        </div>`
      ).join("")}
    </div></div>`;
}

// â”€â”€ EVENT HANDLERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Tabs
document.querySelectorAll(".tab").forEach(btn=>{
  btn.addEventListener("click",()=>{
    document.querySelectorAll(".tab").forEach(b=>b.classList.remove("active"));
    document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
    btn.classList.add("active");
    document.getElementById(`screen-${btn.dataset.tab}`).classList.add("active");
    // Redraw charts after tab becomes visible so offsetWidth is correct
    if (btn.dataset.tab==="charts") {
      requestAnimationFrame(()=>{
        if (chartMode==="monthly") renderBarChart(); else renderAreaChart();
      });
    }
  });
});

// Theme
document.getElementById("themeBtn").addEventListener("click",()=>{
  theme=theme==="dark"?"light":"dark";
  renderAll();
});

// Unit
document.querySelectorAll(".unit-btn").forEach(btn=>{
  btn.addEventListener("click",()=>{
    unit=btn.dataset.unit;
    document.querySelectorAll(".unit-btn").forEach(b=>b.classList.remove("active"));
    btn.classList.add("active");
    renderAll();
  });
});

// Chart mode
document.querySelectorAll(".chart-mode-btn").forEach(btn=>{
  btn.addEventListener("click",()=>{
    chartMode=btn.dataset.mode;
    document.querySelectorAll(".chart-mode-btn").forEach(b=>b.classList.remove("active"));
    btn.classList.add("active");
    renderAll();
  });
});

// Year pills (delegated)
document.getElementById("yearPills").addEventListener("click",e=>{
  const y=parseInt(e.target.dataset.year);
  if (!y) return;
  if (visYears.includes(y)) visYears=visYears.filter(x=>x!==y);
  else visYears=[...visYears,y].sort();
  renderAll();
});

// Month pills (delegated)
document.getElementById("monthPills").addEventListener("click",e=>{
  const m=parseInt(e.target.dataset.month);
  if (isNaN(m)) return;
  selMonth=m;
  renderAll();
});

// Add reading
document.getElementById("inDate").value=new Date().toISOString().slice(0,10);
function addReading() {
  const errEl=document.getElementById("addErr");
  errEl.style.display="none";
  const date=document.getElementById("inDate").value;
  const val=parseFloat(document.getElementById("inValue").value.replace(",","."));
  const note=document.getElementById("inNote").value;
  if (!date||isNaN(val)) { errEl.textContent=t("errFillAll"); errEl.style.display="block"; return; }
  const all=[...readings,{date,value:val}].sort((a,b)=>new Date(a.date)-new Date(b.date));
  for (let i=1;i<all.length;i++) {
    if (Number(all[i].value)<Number(all[i-1].value)) {
      errEl.textContent=t("errOrder")+` (${all[i-1].date}: ${Number(all[i-1].value).toLocaleString("cs-CZ")} â†’ ${all[i].date}: ${Number(all[i].value).toLocaleString("cs-CZ")})`; 
      errEl.style.display="block"; return;
    }
  }
  const newR = {id:nextId++,date,value:val,note};
  readings.push(newR);
  saveReading(newR);
  document.getElementById("inValue").value="";
  document.getElementById("inNote").value="";
  renderAll();
}
document.getElementById("btnAdd").addEventListener("click",addReading);
document.getElementById("inValue").addEventListener("keydown",e=>e.key==="Enter"&&addReading());

// Readings list â€” all actions delegated
document.getElementById("readingsList").addEventListener("click",e=>{
  const btn=e.target;

  // âœ• â€” enter confirm mode
  const delId=btn.dataset.del;
  if (delId) {
    pendingDelId=delId; editingId=null; renderAll(); return;
  }

  // ZpÄ›t â€” cancel confirm
  if (btn.dataset.canceldel) {
    pendingDelId=null; renderAll(); return;
  }

  // Smazat â€” confirmed delete
  const confirmDel=btn.dataset.confirmdel;
  if (confirmDel) {
    const delR = readings.find(r=>String(r.id)===confirmDel);
    readings=readings.filter(r=>String(r.id)!==confirmDel);
    if (delR) deleteReading(delR.id);
    pendingDelId=null; renderAll(); return;
  }

  // âœï¸ â€” enter edit mode
  const editId=btn.dataset.edit;
  if (editId) {
    editingId=editId; pendingDelId=null; renderAll();
    setTimeout(()=>{ const el=document.getElementById(`editVal_${editId}`); if(el){el.focus();el.select();} },50);
    return;
  }

  // ZruÅ¡it edit
  if (btn.dataset.canceledit) {
    editingId=null; renderAll(); return;
  }

  // âœ“ UloÅ¾it edit
  const saveId=btn.dataset.save;
  if (saveId) {
    const newDate=document.getElementById(`editDate_${saveId}`).value;
    const newVal=parseFloat(document.getElementById(`editVal_${saveId}`).value.replace(",","."));
    const newNote=document.getElementById(`editNote_${saveId}`).value.trim();
    const errEl=document.getElementById(`editErr_${saveId}`);

    if (!newDate||isNaN(newVal)) { errEl.textContent=t("editErrFill"); errEl.style.display="block"; return; }

    const origR = readings.find(r=>String(r.id)===saveId);
    const testList=[...readings.filter(r=>String(r.id)!==saveId),{id:saveId,date:newDate,value:newVal}]
      .sort((a,b)=>new Date(a.date)-new Date(b.date));
    for (let i=1;i<testList.length;i++) {
      if (testList[i].value<testList[i-1].value) {
        errEl.textContent=t("editErrOrder"); errEl.style.display="block"; return;
      }
    }

    readings=readings.map(r=>String(r.id)===saveId?{...r,date:newDate,value:newVal,note:newNote}:r);
    const updR=readings.find(r=>String(r.id)===saveId);
    if(updR) saveReading(updR);
    editingId=null; renderAll(); return;
  }
});

// Save edit on Enter key in edit inputs
document.getElementById("readingsList").addEventListener("keydown",e=>{
  if (e.key!=="Enter") return;
  const row=e.target.closest(".editing");
  if (!row) return;
  const saveId=row.dataset.id;
  if (saveId) document.querySelector(`[data-save="${saveId}"]`)?.click();
});

// Language toggle
document.querySelector(".lang-toggle").addEventListener("click",e=>{
  const l=e.target.dataset.lang;
  if (!l||l===lang) return;
  lang=l;
  document.querySelectorAll(".lang-btn").forEach(b=>{
    b.classList.toggle("active", b.dataset.lang===lang);
  });
  renderAll();
});

// File upload
document.getElementById("uploadZone").addEventListener("click",()=>document.getElementById("fileInput").click());
document.getElementById("fileInput").addEventListener("change",e=>{
  const file=e.target.files?.[0]; if (!file) return;
  const alertEl=document.getElementById("importAlert");
  const reader=new FileReader();
  reader.onload=ev=>{
    try {
      const res=parseNetatmoCSV(ev.target.result);
      netatmoDays=mergeNetatmo(netatmoDays,res.days);
      saveNetatmoDays(res.days);
      alertEl.innerHTML=`<div class="alert alert-success" style="margin-bottom:16px">
        <strong>${t("importSuccess")}: ${file.name}</strong><br>
        ðŸ“… ${res.dateFrom} â†’ ${res.dateTo} &nbsp;Â·&nbsp; ðŸ“Š ${res.days.length} ${t("importDays")} &nbsp;Â·&nbsp; ðŸ—ƒ ${t("importTotal")}: <strong>${netatmoDays.length} ${t("importDays")}</strong>
      </div>`;
      renderAll();
    } catch(err) {
      alertEl.innerHTML=`<div class="alert alert-error" style="margin-bottom:14px">âš  ${err.message}</div>`;
    }
  };
  reader.readAsText(file,"utf-8");
  e.target.value="";
});

// Clear Netatmo (delegated)
document.getElementById("coverageWrap").addEventListener("click",e=>{
  if (e.target.id==="btnClearNetatmo") {
    netatmoDays=[];
    clearNetatmoCloud();
    document.getElementById("importAlert").innerHTML="";
    renderAll();
  }
});

// Resize â†’ redraw charts
window.addEventListener("resize",()=>{ if(document.getElementById("screen-charts").classList.contains("active")) { if(chartMode==="monthly") renderBarChart(); else renderAreaChart(); } });

// â”€â”€ INIT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// App is initialized by Supabase auth check above (sb.auth.getSession)
</script>
</body>
</html>
